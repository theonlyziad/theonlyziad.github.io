const express = require("express");
const app = express();
app.listen(() => console.log("Bot is Online | ๐"));
app.use('/ping', (req, res) => {
  res.send(new Date());
});

const c = require('discord.js');
const { Client, Intents,MessageEmbed } = require('discord.js');
const client = new Client({ intents: [Intents.FLAGS.GUILDS, Intents.FLAGS.GUILD_BANS, Intents.FLAGS.GUILD_MEMBERS, Intents.FLAGS.GUILD_EMOJIS_AND_STICKERS, Intents.FLAGS.GUILD_INTEGRATIONS, Intents.FLAGS.GUILD_WEBHOOKS, Intents.FLAGS.GUILD_INVITES, Intents.FLAGS.GUILD_VOICE_STATES, Intents.FLAGS.GUILD_PRESENCES, Intents.FLAGS.GUILD_MESSAGES, Intents.FLAGS.GUILD_MESSAGE_REACTIONS, Intents.FLAGS.GUILD_MESSAGE_TYPING, Intents.FLAGS.DIRECT_MESSAGES, Intents.FLAGS.DIRECT_MESSAGE_REACTIONS, Intents.FLAGS.DIRECT_MESSAGE_TYPING] });
const ytdl = require('ytdl-core');
const ffmpeg = require('ffmpeg');

////
const prefix = '!';//ุจุฑููุณ
const developers = process.env.DEVS;
/////
app.get('/', function(request, response) {
    response.sendFile(__dirname + '/quran.html');
});
/////
client.on('ready', async () => {
	console.log(`Name Bot : ${client.user.tag} | ๐`);
	client.user.setStatus('ุงููุฑุงู ุงููุฑูู');
	client.user.setActivity(`ุงููุฑุงู ุงููุฑูู`, { type: 'PLAYING' });
});

///ุงูุงููุงุฏ

client.on("message",async m=>{
  if(m.content.toLowerCase() ===prefix + (`ุดุบู`)){
    if(!m.member.voice.channel)return m.reply(new MessageEmbed().setAuthor(m.author.username,m.author.avatarURL({dynamic:true})).addField(`:x:`,`ุงุฎู ุงูุนุฒูุฒ ุงูุฑุฌุงุก ุฏุฎููู ุงูุฆ ุงูุฑูู | :x:`))
  quran(m.member.voice.channel)
  m.channel.send(new MessageEmbed().setAuthor(m.author.username,m.author.avatarURL({dynamic:true})).setDescription(`**ุชู ุชุดุบูู ุงููุฑุงู ุงููุฑูู | ๐**`));
  }
})
async function quran(quranAudio) {
  let url = "https://youtu.be/U36il97iEI0"
  const broadcast = client.voice.createBroadcast()
  let connection = await quranAudio.join()
  broadcast.play(ytdl(url), { quality: 'highestaudio' })
  connection.play(broadcast)
}

///

const cd = require("countdown")
    client.on("message",async message=>{
    if (message.content ===prefix + `ููุงูู`) {
      let randmanmsg = await message.channel.send(`๐ | . ููุงูุฉ ุฑูุถุงู ุจุนุฏ`)
        setInterval(async function () {
          var time = cd(new Date().getTime(), new Date("April 20, 2023 00:00:00").getTime());
        randmanmsg.edit(new MessageEmbed().setColor("#c5bf16").setTitle(":ุฑูุถุงู 2022").addField(`**ูู ูุชุจูู ุนูู ููุงูู ุฑูุถุงูุ**`,`ูุชุจูู ุนูู ููุงูู ุฑูุถุงู\n \`\`\`${time}\`\`\``))
        },20000);
    }
})

    client.on("message",async message=>{
    if (message.content ===prefix +  `ุฑูุถุงู-ุงููุงุฏู`) {
      let randmanmsg = await message.channel.send(`๐ | . ุฑูุถุงู ุงููุงุฏู ุจุนุฏ`)
        setInterval(async function () {
          var time = cd(new Date().getTime(), new Date("March 9, 2024 00:00:00").getTime());
        randmanmsg.edit(new MessageEmbed().setColor("#c5bf16").setTitle(":ุฑูุถุงู 2023").addField(`**ูู ูุชุจูู ุนูู ุฑูุถุงูุ**`,`ูุชุจูู ุนูู ุงููุงุฏู ุฑูุถุงู\n \`\`\`${time}\`\`\``))
        },20000);
    }
})

////

client.on('message',dastar => {
  if(dastar.content.startsWith(prefix + "ุงุฐูุงุฑ")){
    let reply =[
      "ุงูููู ุงุบูุฑ ูู ุฎุทูุฆุชู ูุฌููู ูุฅุณุฑุงูู ูู ุฃูุฑู ููุง ุฃูุช ุงุนูู ุจู ููู ุงูููู ุงุบูุฑ ูู ุฌูุฏููู ููุฒูู ูุฎุทุฆู ูุนูุฏู ููู ุฐูู ุนูุฏู ุงูููู ุงุบูุฑ ูู ูุง ูุฏูุช ููุง ุฃุฎุฑุช ููุง ุฃุณุฑุฑุช ููุง ุฃุนููุช ููุง ุฃูุช ุฃุนูู ุจู ููู ุฃูุช ุงูููุฏู ูุฃูุช ุงููุคุฎุฑ ูุฃูุช ุนูู ูู ุดูุก ูุฏูุฑ [ูุชูู ุนููุฉ]",
      "ุฃุณุชุบูุฑ ุงููู ุงูุนุธูู ุงูุฐู ูุง ุฅูู ุฅูุง ูู ุงูุญู ุงููููู ูุฃุชูุจ ุฅููู [ุงูุชุฑูุฐู]",
      "ุณุจุญุงูู ุงูููู ูุจุญูุฏู ุงูููู ุงุบูุฑ ูู [ูุชูู ุนููุฉ]",
      "ุงูููู ุฃูุช ุฑุจู ูุง ุฅูู ุฅูุง ุฃูุช ุฎููุชูู ูุฃูุง ุนุจุฏู ูุฃูุง ุนูู ุนูุฏู ููุนุฏู ูุง ุงุณุชุทุนุช ุฃุนูุฐ ุจู ูู ุดุฑ ูุง ุตูุนุช ูุฃุจุค ูู ุจูุนูุชู ุนูู ูุงุจุค ูู ุจุฐูุจู ูุงุบูุฑ ูู ูุงูู ูุง ูุบูุฑ ุงูุฐููุจ ุฅูุง ุฃูุช [ุฑูุงู ุงูุจุฎุงุฑู]",
      "ุนู ุฃุจู ูุฑูุฑุฉ ุฑุถู ุงููู ุนูู ุฃู ุฑุณูู ุงููู ุตูู ุงููู ุนููู ูุณูู ูุงู:โูููุฒูู ุฑุจูููุง ุชุจุงุฑููู ูุชุนุงูู ููู ูููุฉู ุฅูู ุณูุงุกู ุงูุฏููุง, ุญููู ููุจูู ุซููุซู ุงููููู ุงูุขุฎุฑู ูููููู: ููู ูุฏุนูููุ ูุฃุณุชุฌูุจู ููู, ูู ูุณุฃููููุ ูุฃุนุทูููู, ูู ูุณุชุบูุฑูููุ ูุฃุบูุฑ ูู. ุฑูุงู ุงูุจุฎุงุฑู",
      "ุงูููู ุฃูุช ุฑุจู ูุง ุฅูู ุฅูุง ุฃูุชุ ุฎูููุชูู ูุฃูุง ุนุจุฏูุ ูุฃูุง ุนูู ุนูุฏู ููุนุฏู ูุง ุงุณุชุทุนุชูุ ุฃุนูุฐ ุจู ูู ุดุฑ ูุง ุตูุนุชูุ ุฃุจูุก ูู ุจูุนูุชู ุนูููุ ูุฃุจูุก ุจุฐูุจู ูุงุบูุฑ ููุ ูุฅูู ูุง ูุบูุฑ ุงูุฐููุจ ุฅูุง ุฃูุชโ ูุงู: โูู ูุงููุง ุจุงูููุงุฑ ูููููุง ุจูุงุ ููุงุช ูู ูููู ูุจู ุฃู ููููุณููุ ููู ูู ุฃูู ุงูุฌูุฉุ ููู ูุงููุง ูู ุงููููุ ููู ูููู ุจูุงุ ููุงุช ูุจู ุฃู ููุตูุจูุญุ ููู ูู ุฃูู ุงูุฌูุฉโ. ุฑูุงู ุงูุจุฎุงุฑู.",
      "ุนู ุฃูุณ ุฑุถู ุงููู ุนูู ูุงู ุณูุนุช ุฑุณูู ุงูููุตูู ุงููู ุนููู ูุณูู ูููู: โูุงู ุงููู ูุง ุงุจูู ุขุฏูู! ุฅููู ูุง ุฏูุนูุชููู ูุฑุฌููุชููู, ุบูุฑุชู ููู ุนูููู ูุง ูุงูู ูููู, ููุง ุฃูุจูุงูู, ูุง ุงุจูู ุขุฏููู! ูู ุจููุบูุชู ุฐูููุจููู ุนููุงูู ุงูุณูููุงุกู, ุซูู ุงุณุชุบูุฑุชูููู ุบูุฑุชู ููู, ููุง ุฃูุจูุงูู, ูุง ุงุจู ุขุฏููู ุฅูููู ูู ุฃุชููุชููู ุจูููุฑูุงุจู ุงูุฃุฑุถู ุฎุทูุงููุง ุซูู ููููุชููู ูุง ุชูุดุฑููู ุจู ุดูุฆุงู, ูุฃุชูุชูู ุจููุฑุงุจูุง ูุบูุฑุฉู. [ุตุญูุญ ุงูุชุฑูุฐู]",
      "ุนู ุฃุจู ุณุนูุฏ ุงูุฎุฏุฑู ุฑุถู ุงููู ุนูู ุนู ุงููุจู ุตูู ุงููู ุนููู ูุณูู ูุงู: ูุงู ุฅุจููุณู: ูุนูุฒูุชู ูุง ุฃุจุฑุญ ุฃูุบูู ุนุจุงุฏู ูุง ุฏุงูุช ุฃุฑูุงุญูู ูู ุฃุฌุณุงุฏูู ููุงู: ูุนูุฒูุชู ูุฌูุงูู, ูุง ุฃุฒุงู ุฃุบูุฑู ููู ูุง ุงุณูุชุบูุฑููู [ุตุญูุญ ุงูุชุฑุบูุจ]",
      "ูููู ุงููููููููู ุฅููููู ุธูููููุชู ููููุณูู ุธูููููุง ููุซููุฑูุง ููููุง ููุบูููุฑู ุงูุฐูููููุจู ุฅููููุง ุฃูููุชู ููุงุบูููุฑู ููู ููุบูููุฑูุฉู ูููู ุนูููุฏููู ููุงุฑูุญูููููู ุฅูููููู ุฃูููุชู ุงูุบููุฑ ุงูุฑุญูู. [ูุชูู ุนููู]",
      "ุณูุฏ ุงูุงุณุชุบูุงุฑ ุฃู ุชููู: ุงููููููููู ุฃูููุชู ุฑูุจููู ูุงู ุฅููููู ุฅููููุง ุฃูููุชูุ ุฎูููููุชูููู ููุฃูููุง ุนูุจูุฏูููุ ููุฃูููุง ุนูููู ุนูููุฏููู ููููุนูุฏููู ููุง ุงุณูุชูุทูุนูุชูุ ุฃูุนููุฐู ุจููู ูููู ุดูุฑูู ููุง ุตูููุนูุชูุ ุฃูุจููุกู ูููู ุจูููุนูููุชููู ุนููููููุ ููุฃูุจููุกู ูููู ุจูุฐูููุจูู ููุงุบูููุฑู ูููุ ุฅูููููู ูุงู ููุบูููุฑู ุงูุฐูููููุจู ุฅููููุง ุฃูููุชู. ูููููู ููุงููููุง ูููู ุงููููููุงุฑู ูููููููุง ุจูููุงุ ููููุงุชู ูููู ูููููููู ููุจููู ุฃููู ููููุณูููุ ูููููู ูููู ุฃููููู ุงูุฌููููุฉูุ ูููููู ููุงููููุง ูููู ุงูููููููู ูููููู ููููููู ุจูููุงุ ููููุงุชู ููุจููู ุฃููู ููุตูุจูุญูุ ูููููู ูููู ุฃููููู ุงูุฌููููุฉู. [ุฑูุงู ุงูุจุฎุงุฑู].",
  "ุงูููู ุงุฌุนู ูู ููุจุงู ูุงูุชูุงุณู ุนู ุงูุตูุงู ููุนู ุงูุฎูุฑ ุงูููู ุงุฌุนู ุตูุงุชู ุฎูุฑ ูู ูู ุงูุฏููุง ููุงูููุง",
  "ุฅูููู ุงูููููู ูููููุงุฆูููุชููู ููุตููููููู ุนูููู ุงููููุจูููู ููุง ุฃููููููุง ุงูููุฐูููู ุขูููููุง ุตูููููุง ุนููููููู ููุณูููููููุง ุชูุณููููููุง",
  "ููููู ูููู ุนูููููููุง ููุงูู  ููููุจูููู ููุฌููู ุฑูุจูููู ุฐูู ุงููุฌููุงูู ููุงูุฅููุฑูุงูู",
  "ุฃูุณูุชูุบูููุฑู ุงูููููู ุงููุนูุธูููู ุงูููุฐูู ููุง ุฅููููู ุฅูููุง ูููู ุงููุญูููู ุงููููููููู ููุฃูุชููุจู ุฅูููููู",
      
      ];
let an = reply[Math.floor(Math.random() * reply.length)];
dastar.channel.send(`${an}`)
  }
});


////๐


client.on('message', message => { 
  var helplist = `**: ๐ ุฃูุงูุฑ ุงูุจูุช 

> ${prefix}ุดุบู
: ูุชุดุบูู ุงููุฑุงู ุงููุฑูู
> ${prefix}ุงุฐูุงุฑ
: ูุฑุณุงุฆู ุงุฐูุงุฑ ุนุดูุงุฆูู
> ${prefix}ุฑูุถุงู-ุงููุงุฏู : 
ููุนุฑูุฉ ูู ูุชุจูุฆ ุนูุฆ ุฑูุถุงู 2024
> ${prefix}ููุงูู
: ููุนุฑูุฉ ูุชุฆ ุฑุงุญ ูุฎูุต ุฑูุถุงู 2023
**
ุงุฎุฑ ุชุญุฏูุซ ูู ูู ุนุงู (2023/3/23)
(ุจูุช ูุฑุงู ุงููุฑูู + ุจุญููู ุฏุงุณุชุฑ)`
  if(message.content === prefix + 'help') {
            message.delete(1000) 
    let e = '** ุชู ุฃุฑุณุงู ูู ุงูุงูุงูุฑ | โ**'
	  message.reply(e).then(m => m.delete(1000))
	  message.author.send(helplist).catch(error => message.reply('**ุงุฎู ูุง ูููููู ุงุฑุณุงู ูู ุงูุงูุฑ ุงูุฎุงุตู ุจู | ูู ุณุจุจ : ุงูู ูููู ุฎุงุตู | :x: **')) 
}
});

///ูุง ุชูุนุจ ุจููุฏ
client.login(process.env.token)